#!/usr/bin/env bash

# Author:
# 	Sergio Quijano Rey
# 	sergiquijano@gmail.com
# Description:
# 	A utilitie for making a backup on my raspberry pi server of all the files
# 	inside a given dir
# Version:
# 	v1.0 26/01/2019 - First version of the backup utilitie

# Variables
#===============================================================================
REMOTEIP="sergioquijano.duckdns.org"
origin="/home/sergio/LinuxCloud/"
dest="sergio@$REMOTEIP:~/LinuxCloud"
log_file="/home/sergio/.logs/backup-linuxcloud.log"

# Main program
#===============================================================================
# We show that we're making a backup
notify-send --urgency=low -i terminal "Starting files backup to the lenovo server..." 

# Doing the backup
echo "Backup done at $(date)" >> $log_file 
echo "================================================================================" >> $log_file
rsync -zaP $origin $dest 1>> $log_file 2>> $log_file

# We show that we've finished
notify-send --urgency=low -i terminal "Files backup done!" 
