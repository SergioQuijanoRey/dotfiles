#!/usr/bin/env bash

# Author:
# 	Sergio Quijano Rey
# 	sergiquijano@gmail.com
# Description:
# 	A utilitie for making a backup on my raspberry pi server of all the files
# 	inside a given dir
# Version:
# 	v1.0 26/01/2019 - First version of the backup utilitie

# Variables
#===============================================================================
RASPIP="192.168.1.5"
origin="/home/sergio/LinuxCloud/"
dest="sergio@$RASPIP:~/media/KINGSTONDATA/LinuxCloud"
errlog="/home/sergio/.mylogs/backuperror.log"
succlog="/home/sergio/.mylogs/backupexito.log"

# Main program
#===============================================================================
# We show that we're making a backup
notify-send --urgency=low -i terminal "Starting files backup to the raspberry server..." 1>> $errlog 2>> $succlog

# Doing the backup
rsync -zaP $origin $dest 1>> $errlog 2>> $succlog

# We show that we've finished
notify-send --urgency=low -i terminal "Files backup done!" 1>> $errlog 2>> $succlog
