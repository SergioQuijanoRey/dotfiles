# Script to run all post-install tasks

configure github:
  description: Configures github user and mail
  quiet: false
  commands:
    - git config --global user.email "sergiquijano@gmail.com"
    - git config --global user.name "Sergio Quijano"

ranger devicons:
  description: Installs ranger devicons for ranger
  quiet: false
  commands:
    - git clone https://github.com/alexanderjeurissen/ranger_devicons ~/.config/ranger/plugins/ranger_devicons

set local time:
  description: set local time instead of using UTC
  quiet: false
  commands:
    - sudo timedatectl set-local-rtc 1
    - sudo timedatectl set-timezone Europe/Madrid

rootless podman:
  description: configures podman to run in rootless mode
  quiet: false
  commands:
    - sudo touch /etc/subuid /etc/subgid
    - sudo usermod --add-subuids 100000-165535 --add-subgids 100000-165535 sergio
    - podman system migrate

battery service:
  description: Configures the systemd daemon for checking for batter status
  quiet: false
  commands:
    - systemctl --user service start alert-battery.timer
    - systemctl --user service enable alert-battery.timer


config trackpad:
    description: Configures the laptop trackpad. Copies the config file to two destinations
                 in order to make it work. Re-login needed for make changes visible to the user
    quiet: false
    commands:
      - sudo mkdir -p /etc/X11/xorg.conf.d/
      - sudo cp ./config_files/touchpad.conf /etc/X11/xorg.conf.d/90-touchpad.conf/etc/X11/xorg.conf.d/90-touchpad.conf
      - sudo cp ./config_files/touchpad.conf /etc/X11/xorg.conf.d/90-touchpad.conf

enable ligthdm launcher:
    description: Enable lightdm so DE or WM can be selected on boot
    quite: false
    commands:
      - sudo systemctl enable lightdm


enable bluetooth:
    description: Enable bluetooth service
    quite: false
    commands:
      - sudo systemctl enable bluetooth

enable network manager:
    description: Enable network manager, to make wifi connections available
    quite: false
    commands:
      - sudo systemctl enable NetworkManager
